#!/usr/bin/env bash

option1=" Save locally"
option2=" Save locally (3 sec delay)"
option3=" Upload to CDN"
option4=" Upload to CDN (3 sec delay)"

options="$option1\n$option2\n$option3\n$option4"

selected="$(echo -e "$options" | rofi -no-lazy-grab -dmenu -p "" -columns 1 -lines 4 -line-padding 10 -padding 20 -width 25 -location 0 -font "Fantasque Sans Mono 10" -theme ~/.config/rofi/Iceburg.rasi)"
case $selected in
    $option1)
        DATE=$(date '+%b%d-%H-%M.png'); flameshot gui -r > ~/Pictures/Screenshots/$DATE; sh ~/.local/bin/sh/viewScreenshot.sh ~/Pictures/Screenshots/$DATE
        ;;

    $option2)
        # scrot -d 3 'Screenshot-%b%d-%I-%M.png' -e 'mv ~/$n ~/Pictures/Screenshots/$n && notify-send "screenshot taken!" && viewnior ~/Pictures/Screenshots/$n'
        DATE=$(date '+%b%d-%H-%M.png'); flameshot gui -d 3000 -r > ~/Pictures/Screenshots/$DATE; sh ~/.local/bin/sh/viewScreenshot.sh ~/Pictures/Screenshots/$DATE
        ;;

    $option3)
        # sharenix -m="fs" -c -n -s="sxcu.net"
        DATE=$(date '+%b%d-%H-%M.png'); flameshot gui -r > ~/Pictures/Screenshots/$DATE; sh ~/.local/bin/sh/uploadScreenshot.sh ~/Pictures/Screenshots/$DATE
        ;;
    
    $option4)
        # sharenix-section -c -s="sxcu.net"
        DATE=$(date '+%b%d-%H-%M.png'); flameshot gui -d 3000 -r > ~/Pictures/Screenshots/$DATE; sh ~/.local/bin/sh/uploadScreenshot.sh ~/Pictures/Screenshots/$DATE
        ;;

esac
